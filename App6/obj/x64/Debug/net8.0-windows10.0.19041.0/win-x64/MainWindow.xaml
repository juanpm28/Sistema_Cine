<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="App6.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:App6"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Cartelera de Cine">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid Background="#FFF0F4F8">

        <!-- Definimos 2 columnas (2*:1*) y 2 filas (header Auto + contenido *) -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="*"/>
            <!-- Contenido -->
        </Grid.RowDefinitions>

        <!-- NAVBAR AZUL: ocupa ambas columnas y la fila 0 -->
        <Grid Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
          Background="#0078D7" Height="60" VerticalAlignment="Top">
            <Button x:ConnectionId='15' x:Name="btnMenu"
                Width="40" Height="40"
                Margin="10"
                Background="White"
                Foreground="#0078D7"
                FontSize="20"
                Content="☰"
                HorizontalAlignment="Left"
                VerticalAlignment="Center">
                <Button.Flyout>
                    <MenuFlyout>
                        <MenuFlyoutItem x:ConnectionId='16' Text="Login"                    />
                        <MenuFlyoutItem x:ConnectionId='17' Text="Ventas"                     />
                    </MenuFlyout>
                </Button.Flyout>
            </Button>
        </Grid>

        <!-- Contenedor izquierdo: Cartelera -->
        <Border Grid.Column="0"
        Background="White"
        CornerRadius="8"
        Margin="12,70"
        Padding="12">

            <StackPanel x:ConnectionId='10' x:Name="Peliculas" Visibility="Visible" Margin="10">
                <TextBlock Text="🎥 Cartelera"
                   FontSize="22"
                   FontWeight="Bold"
                   Margin="0,0,0,10"
                   Foreground="Black"/>

                <!-- ListView con vista en cuadrícula -->
                <ListView x:ConnectionId='11' x:Name="PeliculasList"
                                                                   
                  Foreground="Black"
                  IsItemClickEnabled="True"
                  SelectionMode="Single">

                    <!-- Aquí le decimos que use un layout en cuadrícula -->
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <ItemsWrapGrid Orientation="Horizontal"
                                   MaximumRowsOrColumns="3"/>
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>

                    <!-- Cada elemento -->
                    <ListViewItem x:ConnectionId='12' x:Name="Spiderman" Foreground="Black" Margin="5">
                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                            <Image Source="/Assets/spiderman.jpg"
                           Width="100" Height="150"
                           Stretch="UniformToFill"
                           Margin="0,0,0,5"/>
                            <TextBlock Text="Spiderman"
                               HorizontalAlignment="Center"
                               Foreground="Black"
                               FontWeight="SemiBold"/>
                        </StackPanel>
                    </ListViewItem>

                    <ListViewItem x:ConnectionId='13' x:Name="KungFuPanda" Foreground="Black" Margin="5">
                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                            <Image Source="/Assets/panda.jpg"
                           Width="100" Height="150"
                           Stretch="UniformToFill"
                           Margin="0,0,0,5"/>
                            <TextBlock Text="Kung Fu Panda"
                               HorizontalAlignment="Center"
                               Foreground="Black"
                               FontWeight="SemiBold"/>
                        </StackPanel>
                    </ListViewItem>

                    <ListViewItem x:ConnectionId='14' x:Name="Totoro" Foreground="Black" Margin="5">
                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                            <Image Source="/Assets/totoro.jpg"
                           Width="100" Height="150"
                           Stretch="UniformToFill"
                           Margin="0,0,0,5"/>
                            <TextBlock Text="Mi vecino Totoro"
                                       HorizontalAlignment="Center"
                                       Foreground="Black"
                                       FontWeight="SemiBold"
                                       TextWrapping="Wrap"
                                       TextAlignment="Center"
                                       FontSize="12"/>

                        </StackPanel>
                    </ListViewItem>
                </ListView>
            </StackPanel>
        </Border>


        <!-- Contenedor derecho: Horarios -->
        <Border Grid.Column="1" Background="#FFF8F8F8" CornerRadius="8" Margin="12 70" Padding="12">
            <StackPanel x:ConnectionId='6' x:Name="Horarios" Visibility="Visible" Margin="10">
                <TextBlock Text="🕒 Horarios" FontSize="22" FontWeight="Bold" Margin="0,0,0,10" Foreground="Black"/>
                <!-- Aquí es importante tener x:Name para referenciar desde C# -->
                <TextBlock x:ConnectionId='7' x:Name="txtPelicula" FontSize="18" Margin="0,0,0,8" Text="Selecciona un horario" Foreground="Black"/>
                <ListView x:ConnectionId='8' x:Name="HorariosList" Height="300" Foreground="Black"/>
                <Button x:ConnectionId='9' Content="Siguiente" Width="100" Height="40"                           />
            </StackPanel>
        </Border>

        <!-- Contenedor izquierdo: Asientos -->
        <Border x:ConnectionId='2' x:Name="Asientos" Visibility="Collapsed" Grid.Column="0" Background="White" CornerRadius="8" Margin="12 70" Padding="12">
            <StackPanel Margin="10">
                <TextBlock x:ConnectionId='3' Text="Asientos" x:Name="txtInfo" FontSize="20" Margin="0,0,0,10"/>
                <ScrollViewer>
                    <StackPanel x:ConnectionId='5' x:Name="AsientosPanel" Orientation="Vertical"/>
                </ScrollViewer>
                <Button x:ConnectionId='4' x:Name="btnContinuar" Content="Continuar" Height="40" Width="120" IsEnabled="False" HorizontalAlignment="Right" Margin="0,10,0,0"                           />
                <!-- <Button Content="Volver" Height="40" Width="120" HorizontalAlignment="Left" Margin="0,10,0,0" Click="BtnVolver_Click"/> -->
            </StackPanel>
        </Border>


    </Grid>
</Window>

